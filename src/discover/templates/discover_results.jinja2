{% extends "layout.jinja2" %}

{% block content %}
  <link
      rel="stylesheet"
      href="/discover/static/discover.css"
  />

  <div class="discover-container">
    <div class="discover-content-area">
      {% if venues %}
      <h1>{{ venue_aggregates.count }} results for <span class="query">"{{ query }}"</span></h1>
      {% for venue in venues %}
      <div class="discover-venue-info">
        <div class="venue-title"><h3>{{ venue.name }}</h3></div>
        <div class="info-body">
          <div class="info-left">
            <div><span>{{ venue.description }}</span></div>
            <div class="venue-address">
              <span>{{ venue.street_address }},</span>
              <span>{{ venue.postal_code }}</span>
              <span>{{ venue.city }}</span>
            </div>
          </div>
          <div class="info-right">
            {% if venue.img_url %}
            <a href="/venue/{{ venue.id }}"><img class="venue-img" src="{{ venue.img_url }}" alt="Picture of the venue."></a>
            {% else %}
            <a href="/venue/{{ venue.id }}"><img class="venue-img" src="/static/img_unavailable.png" alt="No venue image available."></a>
            {% endif %}
          </div>
          
        </div>
        <div class="venue-link"><a href="/venue/{{ venue.id }}">See Reviews</a></div>
      </div>
      <div class="result-separator"><hr></div>
      {% endfor %}

      {% else %}
      <div>
        <h1>Sorry, no results for "{{ query }}" :(</h1>
      </div>
      {% endif %}
    </div>
  </div>

{% endblock %}